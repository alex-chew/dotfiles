#!/usr/bin/env bash

mem=$(free -m | sed -n 2p)
total=$(echo "$mem" | awk '{ print $2 }')
used=$(echo "$mem" | awk '{ print $3 }')
perc=$(echo "$used / $total" | bc -l)

# full text
printf "ï‚€   %s/%sMB (%.2f%%)\n" $used $total $(echo "$perc * 100" | bc -l)

# short text
echo

# color
source $(dirname $0)/_colors
if (( $(echo "$used > $total * 0.9" | bc -l) )); then
  echo ${base08}
elif (( $(echo "$used > $total * 0.7" | bc -l) )); then
  echo ${base09}
elif (( $(echo "$used > $total * 0.5" | bc -l) )); then
  echo ${base0A}
else
  echo ${base07}
fi

