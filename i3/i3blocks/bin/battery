#!/usr/bin/env bash

info=$(upower -i /org/freedesktop/UPower/devices/battery_BAT0)
perc=$(echo "$info" | awk '/percentage:/ { print $2 }' | sed 's/%//')
time=$(echo "$info" | awk '/time to (empty|full):/ { printf "%.0f%.1s â†’ %.1s", $4, $5, $3 }')

# full text
echo "ðŸ—²   ${perc}% ($time)"

# short text
echo

# color
source $(dirname $0)/_colors
if (( $(echo "$perc > 60" | bc -l) )); then
  echo ${base07}
elif (( $(echo "$perc > 40" | bc -l) )); then
  echo ${base0A}
elif (( $(echo "$perc > 20" | bc -l) )); then
  echo ${base09}
else
  echo ${base08}
fi


